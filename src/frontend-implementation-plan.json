{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "NEAR Snark Pun Generator Dapp (Frontend)",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Build a single-page UI that generates, displays, copies, and lists recent NEAR snark puns within the session.",
      "acceptanceCriteria": [
        "Landing page shows an app title, a primary \"Generate pun\" button, and an area where the generated pun is displayed.",
        "Each generated pun visibly includes the exact substring \"NEAR\" (case-sensitive match is acceptable).",
        "UI includes a \"Copy\" action that copies the currently displayed pun to the clipboard with a visible success state.",
        "UI includes a small list of the most recent generated puns (at least last 10) within the session."
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "create",
          "description": "Create the single-page app shell (title/header, pun display area, Generate button, Copy action with success state, and recent puns list capped to the last 10 within the session). Use shadcn-ui components (e.g., Button/Card) to structure primary/secondary actions and content surfaces. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/components/PunPanel.tsx",
          "operation": "create",
          "description": "Create a composed UI component for rendering the current pun, Copy action (clipboard + visible success state), and a recent-puns list (latest first; keep at least 10). Use shadcn-ui components for consistent interaction styling. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/components/RecentPunsList.tsx",
          "operation": "create",
          "description": "Create a small, responsive list component for showing the most recent generated puns (session-only; capped to 10+). Use shadcn-ui typography/utilities if available. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/main.tsx",
          "operation": "modify",
          "description": "Ensure App.tsx is correctly imported/resolved and rendered as the single-page view (no new routes). Keep the existing React Query provider wiring intact for later integration."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Connect the UI to the canister using the generated actor and React Query for loading/error/success, with retry on failure.",
      "acceptanceCriteria": [
        "Clicking \"Generate pun\" triggers a canister call and updates the displayed pun on success.",
        "A loading indicator/state is shown while a pun is being fetched.",
        "Errors from the canister call are surfaced in the UI with a retry option.",
        "React Query is used for request state management (loading/error/success)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/backend.d.ts",
          "operation": "create",
          "description": "Add the generated backend type definitions (including backendInterface with generatePun(randomIndex: bigint): Promise<string>) for safe, typed frontend calls."
        },
        {
          "path": "frontend/src/backend.ts",
          "operation": "create",
          "description": "Create a small frontend wrapper that instantiates/exports the generated actor using the projectâ€™s core-infrastructure backend connection configuration, so UI code can call generatePun safely."
        },
        {
          "path": "frontend/src/hooks/useGeneratePun.ts",
          "operation": "create",
          "description": "Create a React Query hook (mutation) that calls backend.generatePun with a frontend-generated randomIndex, returns pun text, and exposes loading/error/success states plus a retry trigger."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire the Generate button to the React Query mutation from useGeneratePun; show a loading state while fetching, show an error message with a Retry action on failure, and update the displayed pun + recent list on success. Use shadcn-ui components for buttons and alert-like messaging. Verify the component's usage instructions before implementing."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Apply a cohesive snarky theme (not primarily blue/purple) with clear action/message-state styling and responsive layout.",
      "acceptanceCriteria": [
        "The app uses a consistent color palette (not primarily blue/purple) and a distinct typographic style.",
        "Primary actions, secondary actions (Copy), and message states (loading/error) have clearly differentiated styling.",
        "Layout is responsive and usable on mobile and desktop."
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "create",
          "description": "Define global theme tokens/CSS variables and base typography using a charcoal + acid-green forward palette (avoid blue/purple as primary), and set readable defaults for backgrounds/foregrounds, borders, focus rings, and destructive/error colors."
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Adjust/extend Tailwind theme configuration as needed to support the new snarky palette and typography (keeping the existing CSS-variable-based color system), ensuring responsive spacing/typography utilities are available."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Apply consistent layout primitives (responsive container, spacing, typography hierarchy) and differentiate primary (Generate), secondary (Copy), and message states (loading/error) via Tailwind + shadcn-ui composition. Verify the component's usage instructions before implementing."
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Display generated branding assets (logo + subtle background tile) from frontend/public/assets/generated directly in the UI.",
      "acceptanceCriteria": [
        "Generated images are present under frontend/public/assets/generated and are referenced directly by the frontend (no backend image routing).",
        "The logo is displayed in the header area.",
        "The background image/pattern is applied subtly (e.g., page background or hero container) without harming text readability."
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Reference and render the logo image from frontend/public/assets/generated/near-snark-logo.dim_512x512.png in the header area, and apply the subtle background tile from frontend/public/assets/generated/near-snark-bg-tile.dim_1024x1024.png to the page/hero container with an overlay/treatment that preserves text readability."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add global styles (or utility-friendly defaults) to support the subtle background application (e.g., background color + controlled contrast) while keeping text readable over the tile."
        }
      ]
    }
  ]
}